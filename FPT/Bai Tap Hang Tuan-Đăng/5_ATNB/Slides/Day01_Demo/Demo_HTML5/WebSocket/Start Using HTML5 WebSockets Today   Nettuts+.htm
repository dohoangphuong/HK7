<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0085)http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><script async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource"></script><script src="./Start Using HTML5 WebSockets Today   Nettuts+_files/cb=gapi.loaded_1" async=""></script><script src="./Start Using HTML5 WebSockets Today   Nettuts+_files/cb=gapi.loaded_0" async=""></script><script async="" type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/gpt.js"></script><script type="text/javascript" async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/plusone.js" gapi_processed="true"></script><script id="tinyhippos-injected">if (window.top.ripple) { window.top.ripple("bootstrap").inject(window, document); }<script src="./Start Using HTML5 WebSockets Today   Nettuts+_files/ga.js" async="true"></script></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Start Using HTML5 WebSockets Today | Nettuts+</title><link rel="stylesheet" href="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource(1)" type="text/css" media="screen"><link href="./Start Using HTML5 WebSockets Today   Nettuts+_files/widget.css" rel="stylesheet" type="text/css" media="screen"><link rel="shortcut icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/favicon.ico"><link rel="apple-touch-icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/apple-touch-icon.png"> <script>Env = window.Env || {};
  Env.facebookUrl = 'http://facebook.com/nettutsplus';
  Env.mailChimpUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/functions/mc/mail-chimp.php';
  Env.trackingCode = 'UA-11792865-8';
  Env.boxUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/images/global/box.gif';
      Env.trackingFields = [
      {id: 1, name: 'Author', value: 'Umar Hansa'},
      {id: 2, name: 'Category', value: 'tutorials/javascript-ajax'},
      {id: 3, name: 'Publish Date', value: '2010-07'}
    ];</script> <script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource(2)"></script> <link rel="stylesheet" id="print-css" href="./Start Using HTML5 WebSockets Today   Nettuts+_files/print.css" type="text/css" media="print"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://net.tutsplus.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://net.tutsplus.com/wp-includes/wlwmanifest.xml"><link rel="prev" title="Behind the Scenes of Nettuts with Collis!" href="http://net.tutsplus.com/articles/news/behind-the-scenes-of-nettuts-with-collis/"><link rel="next" title="CSS: Noob to Ninja – The Complete Video Series" href="http://net.tutsplus.com/tutorials/html-css-techniques/css-noob-to-ninja-the-complete-video-series/"><link rel="shortlink" href="http://net.tutsplus.com/?p=13270"><meta name="description" content="One of the coolest new features of HTML5 is WebSockets, which let us talk to the server without using AJAX requests. In this tutorial, we&#39;ll review the process"><meta name="keywords" content="html5,javascript &amp; ajax"><link rel="canonical" href="./Start Using HTML5 WebSockets Today   Nettuts+_files/Start Using HTML5 WebSockets Today   Nettuts+.htm"><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3"> <script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/wt_capi.js"></script> <link rel="alternate" type="application/rss+xml" title="Nettuts+ RSS Feed" href="http://net.tutsplus.com/feed/"><link rel="pingback" href="http://net.tutsplus.com/xmlrpc.php"><meta name="google-site-verification" content="aoXTcdQJMMCGh8FUsMlj35Qw-2jK83Wpt7XnqUPB9KI"><link href="https://plus.google.com/100395074731712398322" rel="publisher"><script type="text/javascript" async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/bsa.js"></script><script type="text/javascript" async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/all.js"></script><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/wt_lib.js" async="true" defer="true"></script><script async="" type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/pubads_impl_31.js"></script><script type="text/javascript" async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/embed.js"></script><script type="text/javascript" id="_bsap_js_d754f1e9ba63a736ba8ff5ece958f7dd" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/s_d754f1e9ba63a736ba8ff5ece958f7dd.js" async="async"></script><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/osd.js"></script><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/WT3Hjp6GHGYh6wZr9PlQOZKlV8Zld32CIGmWyxlI4VRsycso5zSytvQJzRtJIhtwEjNdafidFlJKULdrcxP3FP10oK93UL7qOTorKZUjrXQ5y2nIPxKXlzK2apQxJJi7OYaUhylqewtopdHetkKhA4QZm" async="true" defer="true"></script><style type="text/css" id="bsa_css">div.bsap_1616{width:100%;display:block}div.bsap_1616 a{width:200px}div.bsap_1616 a img{padding:0}div.bsap_1616 a em{font-style:normal}div.bsap_1616 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0 4px 10px 0;text-align:center;text-decoration:none;overflow:hidden;}div.bsap_1616 img{border:0;clear:right;}div.bsap_1616 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1616 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1616 a{line-height:100%}div.bsap_1616 a.adhere{width:200px;height:125px;line-height:1000%}html>body div.bsap_1616 a.adhere{width:198px;height:123px}div.bsap_1616 img.s{height:0;width:0}div.bsap_1284118{width:100%;display:block}div.bsap_1284118 a{width:300px}div.bsap_1284118 a img{padding:0}div.bsap_1284118 a em{font-style:normal}div.bsap_1284118 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;float:left;}div.bsap_1284118 img{border:0;clear:right;}div.bsap_1284118 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1284118 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1284118 a{line-height:100%}div.bsap_1284118 a.adhere{width:300px;height:250px;line-height:2000%}html>body div.bsap_1284118 a.adhere{width:298px;height:248px}div.bsap_1284118 img.s{height:0;width:0}div.bsap_1284118{line-height:9px}div.bsap_1284118 .bsap_adhere a{height:19px;width:298px;font-size:10px;background:#f1f1f1;border:1px solid #e1e1e1;border-top:none;border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;-webkit-border-bottom-left-radius:4px;border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;-webkit-border-bottom-right-radius:4px;text-shadow:1px 1px 0 #fff;line-height:16px}.bsap_backfillframe{border:0}</style><script async="" type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/count.js"></script><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/jobs.all.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_reset > div{overflow:hidden}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}
.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}
.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}
.fb_iframe_widget iframe{position:absolute}
.fb_iframe_widget_lift{z-index:1}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_fluid span{width:100%}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fb_edge_widget_with_comment{position:relative;*z-index:1000}
.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}
.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender
.FB_Loader{margin-top:0}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
.fbpluginrecommendationsbarleft{left:10px}
.fbpluginrecommendationsbarright{right:10px}</style><script type="text/javascript" async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource(3)"></script><script async="" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/count-data.js"></script></head><body class="single single-post postid-13270 single-format-standard" data-twttr-rendered="true"> <script type="text/javascript">/*<![CDATA[*/if(window.WTOptimize && typeof wtObj != "undefined"){
    WTOptimize.setup(wtObj);
  }/*]]>*/</script>  <script type="text/javascript">var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
  var gads = document.createElement('script');
  gads.async = true;
  gads.type = 'text/javascript';
  var useSSL = 'https:' == document.location.protocol;
  gads.src = (useSSL ? 'https:' : 'http:') + 
    '//www.googletagservices.com/tag/js/gpt.js';
  var node = document.getElementsByTagName('script')[0];
  node.parentNode.insertBefore(gads, node);
})();</script> <script type="text/javascript">googletag.cmd.push(function() {
  googletag.defineSlot('/11757429/net_leaderboard', [728, 90], 'div-gpt-ad-leaderboard').addService(googletag.pubads());
  googletag.defineSlot('/11757429/net_sidebar_premium', [300, 250], 'div-gpt-ad-sidebar-premium').addService(googletag.pubads());
  googletag.defineSlot('/11757429/net_featured_sidebar', [300, 250], 'div-gpt-ad-featured-sidebar').addService(googletag.pubads());
  googletag.pubads().enableSingleRequest();
  googletag.enableServices();
});</script>  <script type="text/javascript">if (!plus_member_logged_in()) {
  (function(){
    var bsa = document.createElement('script');
       bsa.type = 'text/javascript';
       bsa.async = true;
       bsa.src = '//s3.buysellads.com/ac/bsa.js';
    (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
  })();
}</script> <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/xd_arbiter.htm" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/xd_arbiter(1).htm" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>  <script type="text/javascript">(function(){
  var fb = document.createElement('script');
  fb.type = 'text/javascript';
  fb.async = true;
  fb.src = document.location.protocol + '//connect.facebook.net/en_US/all.js#xfbml=1';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(fb);
})();</script> <div id="header_wrap"><div id="header"><a href="http://net.tutsplus.com/" class="logo" sl-processed="1">Nettuts+</a><ul class="top_navigation"><li><a href="http://net.tutsplus.com/advertise/" sl-processed="1">Advertise</a></li><li><a href="http://net.tutsplus.com/about/write-for-us/" sl-processed="1">Write for Us</a></li><li><a href="http://net.tutsplus.com/about/" sl-processed="1">About</a></li></ul><div class="search_form"><form method="get" action="http://net.tutsplus.com/"> <input type="text" class="submit_input" name="s" id="s" placeholder="Search..."> <input class="submit_button" type="submit" value="Search"></form></div><div id="navigation"><ul class="navigation"><li class="parent"><a href="http://net.tutsplus.com/category/tutorials/" sl-processed="1">Tutorials</a><ul class="child-nav"><li class="cat-item cat-item-568"><a href="http://net.tutsplus.com/category/tutorials/asp-net/" title="ASP.NET programming tutorials." sl-processed="1">ASP.NET</a></li><li class="cat-item cat-item-464"><a href="http://net.tutsplus.com/category/tutorials/cmss/" title="Tutorials that details how to work with various CMSs." sl-processed="1">CMSs</a></li><li class="cat-item cat-item-547"><a href="http://net.tutsplus.com/category/tutorials/databases/" title="Learn how to work more efficiently with databases." sl-processed="1">Databases</a></li><li class="cat-item cat-item-286"><a href="http://net.tutsplus.com/category/tutorials/design-tutorials/" title="Learn the ins and outs of web design." sl-processed="1">Design</a></li><li class="cat-item cat-item-8"><a href="http://net.tutsplus.com/category/tutorials/html-css-techniques/" title="Get up to speed with HTML and CSS." sl-processed="1">HTML &amp; CSS</a></li><li class="cat-item cat-item-10"><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/" title="Learn about vanilla JavaScript, and the various popular libraries that are available, like jQuery." sl-processed="1">JavaScript &amp; AJAX</a></li><li class="cat-item cat-item-153"><a href="http://net.tutsplus.com/category/tutorials/other/" title="View all posts filed under Other" sl-processed="1">Other</a></li><li class="cat-item cat-item-41"><a href="http://net.tutsplus.com/category/tutorials/php/" title="Learn how to use PHP." sl-processed="1">PHP</a></li><li class="cat-item cat-item-1285"><a href="http://net.tutsplus.com/category/tutorials/python-tutorials/" title="View all posts filed under Python" sl-processed="1">Python</a></li><li class="cat-item cat-item-124"><a href="http://net.tutsplus.com/category/tutorials/ruby/" title="High quality Ruby and RoR tutorials and screencasts." sl-processed="1">Ruby</a></li><li class="cat-item cat-item-1650"><a href="http://net.tutsplus.com/category/tutorials/scala-tutorials/" title="View all posts filed under Scala" sl-processed="1">Scala</a></li><li class="cat-item cat-item-7"><a href="http://net.tutsplus.com/category/tutorials/site-builds/" title="Learn how to convert a PSD to HTML from scratch." sl-processed="1">Site Builds</a></li><li class="cat-item cat-item-29"><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/" title="Details the most popular tools when building web applications." sl-processed="1">Tools &amp; Tips</a></li><li class="cat-item cat-item-35"><a href="http://net.tutsplus.com/category/tutorials/wordpress/" title="Become a WordPress master." sl-processed="1">Wordpress</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/category/articles/" sl-processed="1">Articles</a><ul class="child-nav"><li class="cat-item cat-item-182"><a href="http://net.tutsplus.com/category/articles/contests/" title="View all posts filed under Contests" sl-processed="1">Contests</a></li><li class="cat-item cat-item-1334"><a href="http://net.tutsplus.com/category/articles/editorials/" title="Opinion pieces on the web development arena. " sl-processed="1">Editorials</a></li><li class="cat-item cat-item-128"><a href="http://net.tutsplus.com/category/articles/general/" title="Generic articles on web development." sl-processed="1">General</a></li><li class="cat-item cat-item-127"><a href="http://net.tutsplus.com/category/articles/interviews/" title="Interviews with prominent developers in the web development industry." sl-processed="1">Interviews</a></li><li class="cat-item cat-item-1084"><a href="http://net.tutsplus.com/category/articles/lectures/" title="Featured talks from web development conferences around the world." sl-processed="1">Lectures</a></li><li class="cat-item cat-item-1"><a href="http://net.tutsplus.com/category/articles/news/" title="Recent news in the web development industry." sl-processed="1">News</a></li><li class="cat-item cat-item-1251"><a href="http://net.tutsplus.com/category/articles/quizzes/" title="Quizzes to check your knowledge." sl-processed="1">Quizzes</a></li><li class="cat-item cat-item-437"><a href="http://net.tutsplus.com/category/articles/reviews/" title="Reviews of new web apps, frameworks, and books." sl-processed="1">Reviews</a></li><li class="cat-item cat-item-1379"><a href="http://net.tutsplus.com/category/articles/roundups-articles/" title="Compilations of tools, frameworks and other assorted stuff." sl-processed="1">Roundups</a></li><li class="cat-item cat-item-23"><a href="http://net.tutsplus.com/category/articles/web-roundups/" title="Compilations of popular articles from around the web." sl-processed="1">Web Roundups</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/tag/tips/" sl-processed="1">Tips</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=tips" title="Tools &amp; Tips" sl-processed="1">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/tutorials/?tag=tips" title="Tutorials" sl-processed="1">Tutorials</a></li><li><a href="http://net.tutsplus.com/category/tutorials/ruby/?tag=tips" title="Ruby" sl-processed="1">Ruby</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=tips" title="JavaScript &amp; AJAX" sl-processed="1">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/other/?tag=tips" title="Other" sl-processed="1">Other</a></li><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=tips" title="PHP" sl-processed="1">PHP</a></li></ul></li><li><a href="http://net.tutsplus.com/sessions/" sl-processed="1">Sessions</a></li><li><a href="http://net.tutsplus.com/resources/" sl-processed="1">Resources</a></li><li class="parent"><a href="http://net.tutsplus.com/tag/videos/" sl-processed="1">Videos</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/tutorials/python-tutorials/?tag=videos" title="Python" sl-processed="1">Python</a></li><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=videos" title="Tools &amp; Tips" sl-processed="1">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=videos" title="JavaScript &amp; AJAX" sl-processed="1">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=videos" title="PHP" sl-processed="1">PHP</a></li></ul></li><li id="nav-premium-link"> <a href="http://tutsplus.com/courses/?q=true&filter_topic=35" target="_blank" sl-processed="1">Tuts+ Premium</a></li></ul></div><div class="site_switcher"><ul><li class="link-hub"><a href="http://hub.tutsplus.com/" sl-processed="1">Tuts+ Hub <span>The Latest Tuts+ Updates</span></a></li><li class="link-psd"><a href="http://psd.tutsplus.com/" sl-processed="1">Psdtuts+ <span>Adobe Photoshop</span></a></li><li class="link-net"><a href="http://net.tutsplus.com/" sl-processed="1">Nettuts+ <span>Web Development</span></a></li><li class="link-vector"><a href="http://vector.tutsplus.com/" sl-processed="1">Vectortuts+ <span>Illustrator and Vector</span></a></li><li class="link-audio"><a href="http://audio.tutsplus.com/" sl-processed="1">Audiotuts+ <span>Audio and Production</span></a></li><li class="link-ae"><a href="http://ae.tutsplus.com/" sl-processed="1">Aetuts+ <span>Adobe After Effects</span></a></li><li class="link-cg"><a href="http://cg.tutsplus.com/" sl-processed="1">Cgtuts+ <span>Computer Graphics</span></a></li><li class="link-photo"><a href="http://photo.tutsplus.com/" sl-processed="1">Phototuts+ <span>Photography</span></a></li><li class="link-mobile"><a href="http://mobile.tutsplus.com/" sl-processed="1">Mobiletuts+ <span>Mobile Development</span></a></li><li class="link-webdesign"><a href="http://webdesign.tutsplus.com/" sl-processed="1">Webdesigntuts+ <span>Web Design</span></a></li><li class="link-wp"><a href="http://wp.tutsplus.com/" sl-processed="1">Wptuts+ <span>WordPress</span></a></li><li class="link-mac"><a href="http://mac.tutsplus.com/" sl-processed="1">Mactuts+ <span>Mac &amp; OS X</span></a></li><li class="link-gamedev"><a href="http://gamedev.tutsplus.com/" sl-processed="1">Gamedevtuts+ <span>Game Development</span></a></li><li class="link-craft"><a href="http://craft.tutsplus.com/" sl-processed="1">Crafttuts+ <span>Craft &amp; Handmade</span></a></li></ul> <a href="javascript:void(0);" class="site_switcher_button" sl-processed="1">Toggle</a></div><div class="header-marketplace-ad ad-themeforest"><a href="http://themeforest.net/?WT.mc_id=TutsHeader&ref=NetPremium" rel="external" target="_blank" sl-processed="1"><span>&nbsp;</span>Website Templates</a></div></div></div><div id="content_wrap"><div id="content" class="clearfix"><div class="page_wrap"><div id="leader-board-wrap" style=""><div class="leader_board"> <a href="http://net.tutsplus.com/advertise/" class="LB_advert" sl-processed="1">Advertise Here</a><div class="lb_inner"><div id="div-gpt-ad-leaderboard" style="width:728px; height:90px;"> <script type="text/javascript">googletag.cmd.push(function() { googletag.display('div-gpt-ad-leaderboard'); });</script> <div id="google_ads_iframe_/11757429/net_leaderboard_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/11757429/net_leaderboard_0" name="google_ads_iframe_/11757429/net_leaderboard_0" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div><iframe id="google_ads_iframe_/11757429/net_leaderboard_0__hidden__" name="google_ads_iframe_/11757429/net_leaderboard_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none;"></iframe></div></div></div></div> <script type="text/javascript">if (!plus_member_logged_in()) {
    $('#leader-board-wrap').show()
  }</script> <div id="page" class="single_post"><div class="page_inner"><div class="post post_inner" id="post-13270"><div class="tut_top"><div class="post_image"> <a href="./Start Using HTML5 WebSockets Today   Nettuts+_files/Start Using HTML5 WebSockets Today   Nettuts+.htm" sl-processed="1"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/preview.jpg" alt="Start Using HTML5 WebSockets Today" width="200" height="200" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/preview.jpg"></a></div><div class="preview"><div class="post_taxonomy"><ul><li><a href="http://net.tutsplus.com/category/tutorials/" sl-processed="1">Tutorials</a><span>\</span></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/" sl-processed="1">JavaScript &amp; AJAX</a></li></ul><div id="tuts-rating" class=""><p><span> \</span>Rating:</p><ul id="">  <li><a href="javascript:void(0)" class="rate-this one active" sl-processed="1">1</a></li>  <li><a href="javascript:void(0)" class="rate-this two active" sl-processed="1">2</a></li>  <li><a href="javascript:void(0)" class="rate-this three active" sl-processed="1">3</a></li>  <li><a href="javascript:void(0)" class="rate-this four active" sl-processed="1">4</a></li>  <li><a href="javascript:void(0)" class="rate-this five" sl-processed="1">5</a></li></ul></div></div><h1 class="post_title"> Start Using HTML5 WebSockets Today</h1><div class="post_meta"> <a href="http://net.tutsplus.com/author/umarhansa/" title="Posts by Umar Hansa" rel="author" sl-processed="1">Umar Hansa</a> on Jul 28th 2010 with <a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#disqus_thread" title="Comment on Start Using HTML5 WebSockets Today" data-disqus-identifier="13270 http://net.tutsplus.com/?p=13270" sl-processed="1">139 Comments</a></div><div class="article_social_media"><div class="tweetmeme_btn"> <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/tweet_button.1384205748.htm" class="twitter-share-button twitter-tweet-button twitter-count-none" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 59px; height: 20px;"></iframe><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/widgets.js"></script> </div><div class="facebook_send_btn left"> <div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 32px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1384918603487" name="I0_1384918603487" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/fastbutton.htm" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="90" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 75px;"><iframe id="f16f8d42fc" name="f455b0534" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/like(1).htm" style="border: none; overflow: hidden; height: 20px; width: 75px;"></iframe></span></fb:like></div></div></div></div></div><div class="tut_bottom"><div class="tutorial_details"><h5>Tutorial Details</h5><ul><li></li><li><b>Topic:</b> WebSockets</li><li><b>Difficulty:</b> Easy</li><li><b>Estimated Completion Time:</b> 1 Hour</li></ul></div><div class="hublink"><a href="http://dev.tutsplus.com/tutorials/start-using-html5-websockets-today--net-13270" class="hublink_button" sl-processed="1">View post on <span>Tuts+ Beta</span></a><strong>Tuts+ Beta</strong> is an optimized, mobile-friendly and easy-to-read version of the Tuts+ network.</div></div><div class="post post_inner_article"><div class="download_wrap"><div class="big_btn" style="margin-left:100px;"> <a href="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/websocket_source_files.zip" rel="external" target="_blank" sl-processed="1"><span>Download</span> <small>Source Files</small></a></div></div> <script type="text/javascript">/*<![CDATA[*///
(function($) { $(function() { WpPostRatings({context: $('#post-13270'), post_id: 13270, rpc: 'http://net.tutsplus.com/wp-admin/admin-ajax.php', base_url: 'http://net.tutsplus.com', allow_voting: true}).init() })})(jQuery)
//]]&gt;/*]]>*/</script><p>One of the coolest new features of HTML5 is WebSockets, which let us talk to the server without using AJAX requests. In this tutorial, we’ll review the process of running a WebSocket server in PHP, and then building a client to send and receive messages to it over the WebSocket protocol.</p><p><span id="more-13270"></span></p><hr><h2>What are WebSockets?</h2><blockquote><p> WebSockets is a technique for two-way communication over one (TCP) socket, a type of PUSH technology. At the moment, it’s still being standardized by the W3C; however, the latest versions of Chrome and Safari have support for WebSockets.</p></blockquote><hr><h2>What do WebSockets Replace?</h2><p>Websockets can replace long-polling. This is an interesting concept; the client sends a request to the server – now, rather than the server responding with data it may not have, it essentially keeps the connection open until the fresh, up-to-date data is ready to be sent – the client next receives this, and sends another request. This has its benefits: decreased latency being one of them, as a connection which has already been opened does not require a new connection to be established. However, long-polling isn’t really a piece of fancy technology: it’s also possible for a request to time-out, and thus a new connection will be needed anyway.</p><p>Many Ajax applications makes use of the above – this can often be attributed to poor resource utilization.</p><p>Wouldn’t it be great if the server could wake up one morning and send its data to clients who are willing to listen without some sort of pre established connection? Welcome to the world of PUSH technology!</p><hr><h2><span>Step 1:</span> Get the WebSocket Server</h2><p>This tutorial will focus more on the client building rather than server implementation.</p><p>I’m using <a href="http://www.apachefriends.org/en/xampp.html" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.apachefriends.org&#39;]);" sl-processed="1">XAMPP</a> on Windows 7 to run the PHP server locally. Grab a copy of <a href="http://code.google.com/p/phpwebsockets/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;code.google.com&#39;]);" sl-processed="1">phpwebsockets</a> which is a WebSocket server in PHP. (Note: I experienced some problems with this version, I made some changes to it and will including it in the source files) There are various WebSocket implementations; if one doesn’t work, you can try another or just continue with the tutorial.</p><ul><li><a href="http://jwebsocket.org/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;jwebsocket.org&#39;]);" sl-processed="1">jWebSocket</a> (Java)</li><li><a href="http://github.com/gimite/web-socket-ruby" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;github.com&#39;]);" sl-processed="1">web-socket-ruby</a> (ruby)</li><li><a href="http://github.com/LearnBoost/Socket.IO-node" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;github.com&#39;]);" sl-processed="1">Socket IO-node</a> (node.js)</li></ul><h3>Start the Apache server</h3><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/1.jpg" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/1.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/1.jpg" style="display: inline;"></div><hr><h2><span>Step 2:</span> Change URLs and Ports</h2><p>Change the server according to your setup, for example in setup.class.php:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">function</span><span>&nbsp;__construct(</span><span class="vars">$host</span><span>=</span><span class="string">'localhost'</span><span>,</span><span class="vars">$port</span><span>=8000,</span><span class="vars">$max</span><span>=100)&nbsp;&nbsp;</span></span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$this</span><span>-&gt;createSocket(</span><span class="vars">$host</span><span>,</span><span class="vars">$port</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">public function __construct($host='localhost',$port=8000,$max=100)
{
	$this-&gt;createSocket($host,$port);
}</pre><p>Browse through the files and make changes where appropriate.</p><hr><h2><span>Step 3:</span> Start Building the Client</h2><p>Lets get a basic template up; this is my client.php file:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-xml"><li class="alt"><span><span>&lt;!DOCTYPE&nbsp;html</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;</span><span class="tag-name">html</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">head</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;</span><span class="tag-name">script</span><span>&nbsp;</span><span class="attribute">src</span><span>=</span><span class="attribute-value">"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">script</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="tag">&lt;</span><span class="tag-name">title</span><span class="tag">&gt;</span><span>WebSockets&nbsp;Client</span><span class="tag">&lt;/</span><span class="tag-name">title</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="tag">&lt;/</span><span class="tag-name">head</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">body</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;</span><span class="tag-name">div</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"wrapper"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">div</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"container"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">h1</span><span class="tag">&gt;</span><span>WebSockets&nbsp;Client</span><span class="tag">&lt;/</span><span class="tag-name">h1</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">div</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"chatLog"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">div</span><span class="tag">&gt;</span><span class="comments">&lt;!--&nbsp;#chatLog&nbsp;--&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"examples"</span><span class="tag">&gt;</span><span>e.g.&nbsp;try&nbsp;'hi',&nbsp;'name',&nbsp;'age',&nbsp;'today'</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"text"</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"text"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">button</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"disconnect"</span><span class="tag">&gt;</span><span>Disconnect</span><span class="tag">&lt;/</span><span class="tag-name">button</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">div</span><span class="tag">&gt;</span><span class="comments">&lt;!--&nbsp;#container&nbsp;--&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="tag">&lt;/</span><span class="tag-name">div</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="tag">&lt;/</span><span class="tag-name">body</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;/</span><span class="tag-name">html</span><span class="tag">&gt;</span><span>​&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="html" style="display: none;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"&gt;&lt;/script&gt;

&lt;title&gt;WebSockets Client&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrapper"&gt;

    &lt;div id="container"&gt;

        &lt;h1&gt;WebSockets Client&lt;/h1&gt;

        &lt;div id="chatLog"&gt;

        &lt;/div&gt;&lt;!-- #chatLog --&gt;
        &lt;p id="examples"&gt;e.g. try 'hi', 'name', 'age', 'today'&lt;/p&gt;

        &lt;input id="text" type="text" /&gt;
        &lt;button id="disconnect"&gt;Disconnect&lt;/button&gt;

    &lt;/div&gt;&lt;!-- #container --&gt;

&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;​</pre><p>So in this code we’re creating a simple template: we have a box for the chat log, an input box, and one disconnect button.</p><hr><h2><span>Step 4:</span> Add Some CSS</h2><p>Nothing fancy, just space some elements out.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-css"><li class="alt"><span><span>body&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">font-family</span><span>:</span><span class="string">Arial</span><span>,&nbsp;</span><span class="string">Helvetica</span><span>,&nbsp;</span><span class="string">sans-serif</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span><span class="colors">#contai</span><span>ner{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">border</span><span>:</span><span class="string">5px</span><span>&nbsp;</span><span class="string">solid</span><span>&nbsp;grey;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">width</span><span>:</span><span class="string">800px</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">margin</span><span>:0&nbsp;</span><span class="string">auto</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">padding</span><span>:</span><span class="string">10px</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span><span class="colors">#chatLo</span><span>g{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">padding</span><span>:</span><span class="string">5px</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">border</span><span>:</span><span class="string">1px</span><span>&nbsp;</span><span class="string">solid</span><span>&nbsp;</span><span class="string">black</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span><span class="colors">#chatLo</span><span>g&nbsp;p&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">margin</span><span>:0;&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li><li class="alt"><span>.event&nbsp;{&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">color</span><span>:</span><span class="colors">#999</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>.warning{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">font-weight</span><span>:</span><span class="string">bold</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">color</span><span>:</span><span class="colors">#CCC</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="css" name="code" style="display: none;">body {
	font-family:Arial, Helvetica, sans-serif;
}
#container{
	border:5px solid grey;
	width:800px;
	margin:0 auto;
	padding:10px;
}
#chatLog{
	padding:5px;
	border:1px solid black;
}
#chatLog p {
	margin:0;
}
.event {
	color:#999;
}
.warning{
	font-weight:bold;
	color:#CCC;
}</pre><hr><h2><span>Step 5:</span> WebSocket Events</h2><p>First, let’s try and understand the idea of WebSocket events.</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/events.jpg" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/events.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/events.jpg" style="display: inline;"></div><h3>The Events</h3><p>We’ll be using three events:</p><ul><li><strong>onopen:</strong> When a socket has opened</li><li><strong>onmessage:</strong> When a message has been received</li><li><strong>onclose:</strong> When a socket has been closed</li></ul><p>But how can we implement this?</p><p>First create a WebSocket object</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">var</span><span>&nbsp;socket&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;WebSocket(</span><span class="string">"ws://localhost:8000/socket/server/startDaemon.php"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="js" style="display: none;">var socket = new WebSocket("ws://localhost:8000/socket/server/startDaemon.php");</pre><p>And checking for events is as simple as:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>socket.onopen&nbsp;=&nbsp;</span><span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;alert(<span class="string">"Socket&nbsp;has&nbsp;been&nbsp;opened!"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">socket.onopen = function(){
	alert("Socket has been opened!");
}</pre><p>But what about when we receive a message?</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>socket.onmessage&nbsp;=&nbsp;</span><span class="keyword">function</span><span>(msg){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;alert(msg);&nbsp;<span class="comment">//Awesome!</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">socket.onmessage = function(msg){
	alert(msg);	//Awesome!
}</pre><p>However, let’s avoid using alert boxes, and actually integrate what we’ve learned into the client page.</p><hr><h2><span>Step 6:</span> JavaScript</h2><p>Ok, so let’s get started. First we put our code in jQuery’s document ready function, then we check whether the user has a WebSockets-enabled browser. If they do not, we append a link to Chrome in the HTML.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(document).ready(</span><span class="keyword">function</span><span>()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(!(</span><span class="string">"WebSocket"</span><span>&nbsp;</span><span class="keyword">in</span><span>&nbsp;window)){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#chatLog,&nbsp;input,&nbsp;button,&nbsp;#examples'</span><span>).fadeOut(</span><span class="string">"fast"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'&lt;p&gt;Oh&nbsp;no,&nbsp;you&nbsp;need&nbsp;a&nbsp;browser&nbsp;that&nbsp;supports&nbsp;WebSockets.&nbsp;How&nbsp;about&nbsp;&lt;a&nbsp;href="http://www.google.com/chrome"&gt;Google&nbsp;Chrome&lt;/a&gt;?&lt;/p&gt;'</span><span>).appendTo(</span><span class="string">'#container'</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="keyword">else</span><span>{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//The&nbsp;user&nbsp;has&nbsp;WebSockets</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;connect();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">function</span><span>&nbsp;connect(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//the&nbsp;connect&nbsp;function&nbsp;code&nbsp;is&nbsp;below</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>});&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">$(document).ready(function() {
	if(!("WebSocket" in window)){
		$('#chatLog, input, button, #examples').fadeOut("fast");
		$('&lt;p&gt;Oh no, you need a browser that supports WebSockets. How about &lt;a href="http://www.google.com/chrome"&gt;Google Chrome&lt;/a&gt;?&lt;/p&gt;').appendTo('#container');
	}else{

	//The user has WebSockets

	connect();

	function connect(){
    	//the connect function code is below

	}
});</pre><p>As you can see, if the user has WebSockets then we call a connect() function. This is the core of the functionality: we’ll start with the open, close and receive events.</p><p>We’ll define the URL of our server</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">var</span><span>&nbsp;socket;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">var</span><span>&nbsp;host&nbsp;=&nbsp;</span><span class="string">"ws://localhost:8000/socket/server/startDaemon.php"</span><span>;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="js" style="display: none;">var socket;
var host = "ws://localhost:8000/socket/server/startDaemon.php";</pre><p>Wait, where’s the <code>http</code> in that URL? Oh right, it’s a WebSocket URL, so it’s using a different protocol. Here’s a breakdown of the pieces of our URL:</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/box.gif" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/url.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/url.jpg"></div><p>Let’s continue with our connect() function. We will put our code within a try/catch block; so if something goes wrong, we can let the user know. We create a new WebSocket, and pass the message to a message function which I’ll explain later. We create our onopen, onmessage and onclose functions. Note that we also show the user the socket status; this is not necessary, but I’m including it here as it can be helpful for debugging.</p><div class="tutorial_image"><script type="text/javascript">google_ad_client = "pub-9093712935949486";
/* 300x250 nettuts middle tutsads */
google_ad_slot = "1775681443";
google_ad_width = 300;
google_ad_height = 250;</script> <script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/show_ads.js"></script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></div><ul><li>CONNECTING = 0</li><li>OPEN = 1</li><li>CLOSED = 2</li></ul><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">function</span><span>&nbsp;connect(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;socket;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;host&nbsp;=&nbsp;</span><span class="string">"ws://localhost:8000/socket/server/startDaemon.php"</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;socket&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;WebSocket(host);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onopen&nbsp;=&nbsp;<span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState+</span><span class="string">'&nbsp;(open)'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onmessage&nbsp;=&nbsp;<span class="keyword">function</span><span>(msg){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="message"&gt;Received:&nbsp;'</span><span>+msg.data);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onclose&nbsp;=&nbsp;<span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState+</span><span class="string">'&nbsp;(Closed)'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>(exception){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&gt;Error'</span><span>+exception);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">function connect(){
    try{

	var socket;
	var host = "ws://localhost:8000/socket/server/startDaemon.php";
    var socket = new WebSocket(host);

        message('&lt;p class="event"&gt;Socket Status: '+socket.readyState);

        socket.onopen = function(){
       		 message('&lt;p class="event"&gt;Socket Status: '+socket.readyState+' (open)');
        }

        socket.onmessage = function(msg){
       		 message('&lt;p class="message"&gt;Received: '+msg.data);
        }

        socket.onclose = function(){
       		 message('&lt;p class="event"&gt;Socket Status: '+socket.readyState+' (Closed)');
        }			

    } catch(exception){
   		 message('&lt;p&gt;Error'+exception);
    }
}</pre><p>The message() function is fairly simple, it takes in some text that we want to show the user and appends it to the chatLog. We create the appropriate class for paragraph tags in the socket event functions which is why there is only one closing paragraph tag in the message function.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">function</span><span>&nbsp;message(msg){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#chatLog'</span><span>).append(msg+</span><span class="string">'&lt;/p&gt;'</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">function message(msg){
	$('#chatLog').append(msg+'&lt;/p&gt;');
}</pre><hr><h2>So Far…</h2><p>If you’ve been following up to this point, well done! We’ve managed to create a basic HTML/CSS template, create and establish a WebSocket connection and keep the user updated as progress was made with the connection.</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/box.gif" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/page.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/page.jpg"></div><hr><h2><span>Step 7:</span> Sending Data</h2><p>Now rather than having a submit button, we can detect when the user presses return on their keyboard, and run the send function. The ’13′ you see below is the ASCII key for the enter button.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(</span><span class="string">'#text'</span><span>).keypress(</span><span class="keyword">function</span><span>(event)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(event.keyCode&nbsp;==&nbsp;</span><span class="string">'13'</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>});&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">$('#text').keypress(function(event) {
    if (event.keyCode == '13') {
   		send();
    }
});</pre><p>And here’s the send() function:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">function</span><span>&nbsp;send(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;text&nbsp;=&nbsp;$(</span><span class="string">'#text'</span><span>).val();&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(text==</span><span class="string">""</span><span>){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="warning"&gt;Please&nbsp;enter&nbsp;a&nbsp;message'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.send(text);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Sent:&nbsp;'</span><span>+text)&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>(exception){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="warning"&gt;&nbsp;Error:'</span><span>&nbsp;+&nbsp;exception);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#text'</span><span>).val(</span><span class="string">""</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">function send(){

    var text = $('#text').val();
    if(text==""){
        message('&lt;p class="warning"&gt;Please enter a message');
        return ;
    }
    try{
        socket.send(text);
        message('&lt;p class="event"&gt;Sent: '+text)
    } catch(exception){
   	message('&lt;p class="warning"&gt; Error:' + exception);
    }

    $('#text').val("");

}</pre><p>Remember what you see above may be a chunky bit of code, but in reality, the code we really need is:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>socket.send();&nbsp;</span><span class="comment">//Thanks&nbsp;JavaScript</span><span>&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="js" style="display: none;">socket.send(); //Thanks JavaScript</pre><p>The extra code is doing a number of things: detecting if the user didn’t enter anything but still hit return, clearing the input box, and calling the message functions.</p><hr><h2><span>Step 8:</span> Closing the Socket</h2><p>Closing the socket is fairly straightforward: attach a click handler to our disconnect button and we’re done!</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/box.gif" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/close.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/close.jpg"></div><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(</span><span class="string">'#disconnect'</span><span>).click(</span><span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;socket.close();&nbsp;&nbsp;</span></li><li class="alt"><span>});&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">$('#disconnect').click(function(){
	socket.close();
});</pre><hr><h2>The Completed JavaScript</h2><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" sl-processed="1">view plain</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" sl-processed="1">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" sl-processed="1">print</a><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" sl-processed="1">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(document).ready(</span><span class="keyword">function</span><span>()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;<span class="keyword">if</span><span>(!(</span><span class="string">"WebSocket"</span><span>&nbsp;</span><span class="keyword">in</span><span>&nbsp;window)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;$(<span class="string">'#chatLog,&nbsp;input,&nbsp;button,&nbsp;#examples'</span><span>).fadeOut(</span><span class="string">"fast"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;$(<span class="string">'&lt;p&gt;Oh&nbsp;no,&nbsp;you&nbsp;need&nbsp;a&nbsp;browser&nbsp;that&nbsp;supports&nbsp;WebSockets.&nbsp;How&nbsp;about&nbsp;&lt;a&nbsp;href="http://www.google.com/chrome"&gt;Google&nbsp;Chrome&lt;/a&gt;?&lt;/p&gt;'</span><span>).appendTo(</span><span class="string">'#container'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;}<span class="keyword">else</span><span>{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//The&nbsp;user&nbsp;has&nbsp;WebSockets</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connect();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">function</span><span>&nbsp;connect(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;socket;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;host&nbsp;=&nbsp;</span><span class="string">"ws://localhost:8000/socket/server/startDaemon.php"</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;socket&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;WebSocket(host);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onopen&nbsp;=&nbsp;<span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState+</span><span class="string">'&nbsp;(open)'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onmessage&nbsp;=&nbsp;<span class="keyword">function</span><span>(msg){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="message"&gt;Received:&nbsp;'</span><span>+msg.data);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.onclose&nbsp;=&nbsp;<span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Socket&nbsp;Status:&nbsp;'</span><span>+socket.readyState+</span><span class="string">'&nbsp;(Closed)'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>(exception){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&gt;Error'</span><span>+exception);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">function</span><span>&nbsp;send(){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span><span>&nbsp;text&nbsp;=&nbsp;$(</span><span class="string">'#text'</span><span>).val();&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(text==</span><span class="string">""</span><span>){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="warning"&gt;Please&nbsp;enter&nbsp;a&nbsp;message'</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><span>{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.send(text);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="event"&gt;Sent:&nbsp;'</span><span>+text)&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span><span>(exception){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message(<span class="string">'&lt;p&nbsp;class="warning"&gt;'</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#text'</span><span>).val(</span><span class="string">""</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">function</span><span>&nbsp;message(msg){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#chatLog'</span><span>).append(msg+</span><span class="string">'&lt;/p&gt;'</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#text'</span><span>).keypress(</span><span class="keyword">function</span><span>(event)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(event.keyCode&nbsp;==&nbsp;</span><span class="string">'13'</span><span>)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="string">'#disconnect'</span><span>).click(</span><span class="keyword">function</span><span>(){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.close();&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<span class="comment">//End&nbsp;connect</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;}<span class="comment">//End&nbsp;else</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>});&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="js" style="display: none;">$(document).ready(function() {

  if(!("WebSocket" in window)){
  $('#chatLog, input, button, #examples').fadeOut("fast");
  $('&lt;p&gt;Oh no, you need a browser that supports WebSockets. How about &lt;a href="http://www.google.com/chrome"&gt;Google Chrome&lt;/a&gt;?&lt;/p&gt;').appendTo('#container');
  }else{
      //The user has WebSockets

      connect();

      function connect(){
          var socket;
          var host = "ws://localhost:8000/socket/server/startDaemon.php";

          try{
              var socket = new WebSocket(host);

              message('&lt;p class="event"&gt;Socket Status: '+socket.readyState);

              socket.onopen = function(){
             	 message('&lt;p class="event"&gt;Socket Status: '+socket.readyState+' (open)');
              }

              socket.onmessage = function(msg){
             	 message('&lt;p class="message"&gt;Received: '+msg.data);
              }

              socket.onclose = function(){
              	message('&lt;p class="event"&gt;Socket Status: '+socket.readyState+' (Closed)');
              }			

          } catch(exception){
             message('&lt;p&gt;Error'+exception);
          }

          function send(){
              var text = $('#text').val();

              if(text==""){
                  message('&lt;p class="warning"&gt;Please enter a message');
                  return ;
              }
              try{
                  socket.send(text);
                  message('&lt;p class="event"&gt;Sent: '+text)

              } catch(exception){
                 message('&lt;p class="warning"&gt;');
              }
              $('#text').val("");
          }

          function message(msg){
            $('#chatLog').append(msg+'&lt;/p&gt;');
          }

          $('#text').keypress(function(event) {
              if (event.keyCode == '13') {
                send();
              }
          });	

          $('#disconnect').click(function(){
             socket.close();
          });

      }//End connect

  }//End else

});</pre><hr><h2><span>Step 9:</span> Run the WebSocket Server</h2><p>We will need command line access. Luckily, XAMPP has a handy shell option. Click ‘Shell’ on the XAMPP control panel, and type in:</p><pre>php -q path\to\server.php</pre><p>You have now started a WebSocket server!</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/box.gif" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/2.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/2.jpg"></div><hr><h2>Finished</h2><p>When the page loads, a WebSocket connection will attempt to be established (try editing the code so the user has connect/disconnect option). Then, the user can enter messages and receive messages from the server.</p><div class="tutorial_image"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/box.gif" data-original-url="http://d2o0t5hpnwv4c1.cloudfront.net/751_webSocketsStarter/example.jpg" border="0" alt="" original="http://cdn.tutsplus.com/net/uploads/legacy/751_webSocketsStarter/example.jpg"></div><hr><h2>That’s it!</h2><p>Thanks for reading; I hope you enjoyed this tutorial! Remember, as exciting as WebSockets may be, things may change. You can refer here to keep up to date on the <a href="http://dev.w3.org/html5/websockets/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;dev.w3.org&#39;]);" sl-processed="1">W3C WebSocket API</a>.</p><div style="clear:both;padding-bottom:20px;"><fb:like layout="standard" width="450" height="30" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 29px; width: 450px;"><iframe id="f370852374" name="f187bbeee4" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/like(2).htm" style="border: none; overflow: hidden; height: 29px; width: 450px;"></iframe></span></fb:like></div><p style="text-align: center;"></p><div id="bsap_1284118" class="bsap_1284118 bsap"><iframe width="300" height="250" id="backfill_1284118_frame" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/backfill1.htm" frameborder="0" class="bsap_backfillframe" scrolling="no"></iframe></div><p></p></div><div id="tag-list"><span>Tags:</span> <a href="http://net.tutsplus.com/tag/html5/" sl-processed="1">html5</a></div><div class="post_footer" style="padding-bottom: 170px;"><div class="enjoyed_post"> <span class="thumb_icon">&nbsp;</span><h5>Enjoyed this Post?</h5><p>Subscribe to our <a href="http://feeds.feedburner.com/nettuts" sl-processed="1">RSS Feed</a>, <a href="http://twitter.com/nettuts" sl-processed="1">Follow us on Twitter</a> or simply recommend us to friends and colleagues!</p><div class="article_social_media"><div class="tweetmeme_btn"> <iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/tweet_button.1384205748(1).htm" class="twitter-share-button twitter-tweet-button twitter-count-none" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 59px; height: 20px;"></iframe><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/widgets.js"></script> </div><div class="facebook_send_btn left"> <div id="___plusone_1" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 32px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I1_1384918603503" name="I1_1384918603503" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/fastbutton(1).htm" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="100" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 75px;"><iframe id="f2c5a6171c" name="f299cbeca8" scrolling="no" title="Like this content on Facebook." class="fb_ltr" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/like.htm" style="border: none; overflow: hidden; height: 20px; width: 75px;"></iframe></span></fb:like></div></div></div><div class="the_author"> <img alt="" src="http://1.gravatar.com/avatar/9af122ba5de2bde0b718122147d6cece?s=40&d=http%3A%2F%2Ftutsplus.s3.amazonaws.com%2Fgeneral%2Favatar.jpg%3Fs%3D40&r=PG" class="avatar avatar-40 photo" height="40" width="40"><h5>By <a href="http://net.tutsplus.com/author/umarhansa/" title="Posts by Umar Hansa" rel="author" sl-processed="1">Umar Hansa</a></h5><p class="the_author_p">Rollover to read this author's bio or click through to see a full list of posts by this author.</p><div class="autor_div"> Umar is a front-end web developer based in London who has a focus on writing tips, tutorials and documentation for the web platform. Using tooling such as the browser DevTools for an improved development workflow but also for debugging performance issues is an area which he plans to explore further and share information about to the community. <span class="arrow">&nbsp;</span></div></div> <br class="clear"><div class="plus_membership"><div class="plus_membership_text"> <a href="" class="plus_icon" sl-processed="1">Plus Premium</a><div id="logged-in-plus-footer" style="display: none;"><div class="plus_content wide"><h3>Hello!</h3><p>You can grab source files and bonus tutorials from the <a href="http://tutsplus.com/" sl-processed="1">members area</a>.</p></div><div class="plus_form"></div></div><div id="logged-out-plus-footer" style=""><div class="plus_content"><h3>Premium Members</h3><p>Source Files, Bonus Tutorials &amp; More for all relevant Tuts+ sites in one subscription. <a href="http://tutsplus.com/amember/signup.php" sl-processed="1">Join Now</a></p></div><div class="plus_form"><form name="login" method="post" action="http://tutsplus.com/amember/login.php?amember_redirect_url=http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/" id="signIn"><fieldset> <input type="text" name="amember_login" id="username" class="input"> <input type="password" name="amember_pass" id="password" class="input"> <input type="submit" id="submit_plus" class="submit_plus" value="Sign In"></fieldset></form></div></div></div><div class="left_corner">&nbsp;</div><div class="right_corner">&nbsp;</div></div> <script type="text/javascript">if (plus_member_logged_in()) {
                  $('#logged-in-plus-footer').show()
                } else {
                  $('#logged-out-plus-footer').show()
                }</script> </div><div class="post extra_posts single"></div><div class="discus-note"><strong>Note:</strong> Want to add some source code? Type &lt;pre&gt;&lt;code&gt; before it and &lt;/code&gt;&lt;/pre&gt; after it. <a href="http://help.disqus.com/customer/portal/articles/665057" target="_blank" sl-processed="1">Find out more</a></div><div class="comments"><div id="disqus_thread"><iframe id="dsq-2" data-disqus-uid="2" allowtransparency="true" frameborder="0" role="complementary" width="100%" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource.htm" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 8134px !important;" scrolling="no" horizontalscrolling="no" verticalscrolling="no"></iframe></div> <script type="text/javascript">/*<![CDATA[*//*  */
    var disqus_url = 'http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/';
    var disqus_identifier = '13270 http://net.tutsplus.com/?p=13270';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'nettuts';
    var disqus_title = "Start Using HTML5 WebSockets Today";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=13270';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
    var facebookXdReceiverPath = 'http://net.tutsplus.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/*  *//*]]>*/</script> <script type="text/javascript">/*  */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/net.tutsplus.com\/tutorials\/javascript-ajax\/start-using-html5-websockets-today\/trackback\/"    };
/*  */</script> <script type="text/javascript">/*<![CDATA[*//*  */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
        dsq.src = 'http' + '://' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.73';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/*  *//*]]>*/</script> </div></div></div></div><div id="sidebar"><div id="social-stats"><ul><li class="ss-twitter"> <a href="http://twitter.com/nettuts" rel="nofollow external" target="_blank" sl-processed="1"> <span>Twitter</span> <large>94,195</large> <small>Twitter Followers</small> </a></li><li class="ss-facebook"> <a href="http://facebook.com/nettutsplus" rel="nofollow external" target="_blank" sl-processed="1"> <span>Facebook</span> <large>80,174</large> <small>Facebook Fans</small> </a></li><li class="ss-google-plus"> <a href="https://plus.google.com/100395074731712398322" rel="nofollow external" target="_blank" sl-processed="1"> <span>Google+</span> <large>21,857</large> <small>Google+ Followers</small> </a></li></ul></div><div id="ad-tuts-premium" style="display: block;"> <a class="premium-dev" href="http://tutsplus.com/" sl-processed="1">&nbsp;</a></div><div id="ad-sidebar-premium" style="display: block;"><div id="div-gpt-ad-sidebar-premium" style="width:300px; height:250px;"> <script type="text/javascript">googletag.cmd.push(function() { googletag.display('div-gpt-ad-sidebar-premium'); });</script><div id="google_ads_iframe_/11757429/net_sidebar_premium_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/11757429/net_sidebar_premium_0" name="google_ads_iframe_/11757429/net_sidebar_premium_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div> </div></div><div id="ad-block" style="display: block;"><div id="bsap_1616" class="bsap_1616 bsap"><a href="http://stats.buysellads.com/click.go?z=1616&b=3804349&g=&s=&sw=1024&sh=768&br=chrome,31,win&r=0.2936766166239977&link=http://pages.sencha.com/sencha-touch-bundle?ls=Advertisement&ss=nettus" onmouseover="window.status = &#39;http://pages.sencha.com/sencha-touch-bundle?ls=Advertisement&amp;ss=nettus&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad1 odd" title="Build amazing mobile apps with HTML5 &amp; CSS3." id="bsa_3804349" target="_blank" sl-processed="1"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/29300-1277154828.png" width="200" height="125" alt="Build amazing mobile apps with HTML5 &amp; CSS3."></a><a href="http://stats.buysellads.com/click.go?z=1616&b=505771&g=&s=&sw=1024&sh=768&br=chrome,31,win&r=0.3380108429118991&link=http://www.xhtmlchop.com/?utm_source=BSA&utm_medium=Banner&utm_term=Psd%2Bto%2BHtml&utm_campaign=Nettuts%2B" onmouseover="window.status = &#39;http://www.xhtmlchop.com/?utm_source=BSA&amp;utm_medium=Banner&amp;utm_term=Psd%2Bto%2BHtml&amp;utm_campaign=Nettuts%2B&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad2 even" title="PSD to Html" id="bsa_505771" target="_blank" sl-processed="1"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/31840-1279649837.gif" width="200" height="125" alt="PSD to Html"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=180337&g=&s=&sw=1024&sh=768&br=chrome,31,win&r=0.9183032943401486&link=http://www.psd2html.com/?utm_source=net.tutsplus.com&utm_medium=banner&utm_campaign=responsive" onmouseover="window.status = &#39;http://www.psd2html.com/?utm_source=net.tutsplus.com&amp;utm_medium=banner&amp;utm_campaign=responsive&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad3 odd" title="PSD2HTML.com" id="bsa_180337" target="_blank" sl-processed="1"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/195152-1383326298.jpg" width="200" height="125" alt="PSD2HTML.com"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=3308284&g=&s=&sw=1024&sh=768&br=chrome,31,win&r=0.01716261520050466&link=http://www.freshbooks.com/painless-billing/?ref=9309" onmouseover="window.status = &#39;http://www.freshbooks.com/painless-billing/?ref=9309&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad4 even" title="FreshBooks Cloud Accounting - Sign Up Today For Your Free Trial! " id="bsa_3308284" target="_blank" sl-processed="1"><img src="./Start Using HTML5 WebSockets Today   Nettuts+_files/163516-1363879499.png" width="200" height="125" alt="FreshBooks Cloud Accounting - Sign Up Today For Your Free Trial! "></a><a href="http://buysellads.com/buy/detail/197/zone/1616?utm_source=site_197&utm_medium=website&utm_campaign=adhere&utm_content=zone_1616" title="Advertise Here" class="adhere ad5 odd" target="_blank" sl-processed="1">Advertise Here</a></div> <a href="http://net.tutsplus.com/advertise/" class="end-ad-here" sl-processed="1">advertise here</a></div><div id="site-updates" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="mail-chimp-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#mail-chimp-section" sl-processed="1"><span>&nbsp;</span>Get Email Updates</a></li><li class="rss-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#rss-section" sl-processed="1"><span>&nbsp;</span>Subscribe via RSS</a></li></ul><div id="mail-chimp-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><div id="mail-chimp-response"></div><form id="mail-chimp-form" action="" method="get"> <input type="text" name="mail-chimp-email" class="mail-chimp-email" value="" placeholder="me@email.com"> <input type="submit" name="mail-chimp-subscribe" value="Subscribe" id="mail-chimp-subscribe"></form></div><div id="rss-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><ul><li><a href="javascript:void(0);" sl-processed="1">Select a subscription type...</a><ul><li><a href="http://feeds.feedburner.com/nettuts" sl-processed="1">Full Post RSS</a></li><li><a href="http://feedproxy.google.com/nettuts-summary" sl-processed="1">Summary RSS</a></li></ul></li></ul></div></div>  <script type="text/javascript">if ( ! plus_member_logged_in()) {
    $('#ad-block').show();
    $('#ad-sidebar-premium').show();
    $('#temp-ads').show();
    $('#ad-tuts-premium').show();
  }</script> <div id="tutsjobs" class="jobs"><h3 class="jobs_header"> Full-time, Part-time and Contract Jobs</h3><div class="jobs_body"><ul class="jobs_list"><li id="tutsjobs_id_5685" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/292-envato-tuts-cms-wordpress-editor"><span class="title">Tuts+ CMS &amp; WordPress Editor</span> <mark>at</mark> Envato</a>            </li><li id="tutsjobs_id_652" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/293-envato-tuts-mobile-dev-editor"><span class="title">Tuts+ Mobile Dev Editor</span> <mark>at</mark> Envato</a>            </li><li id="tutsjobs_id_9455" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/294-booking-com-software-developer"><span class="title">Software Developer</span> <mark>at</mark> Booking.com</a>            </li><li id="tutsjobs_id_8215" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/295-booking-com-application-developer-android-os"><span class="title">Application Developer - Android OS</span> <mark>at</mark> Booking.com</a>            </li><li id="tutsjobs_id_2289" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/296-booking-com-application-developer-ios"><span class="title">Application Developer - iOS</span> <mark>at</mark> Booking.com</a>            </li></ul> <a class="more_jobs" href="http://jobs.tutsplus.com/" title="Tuts+ Job Board" sl-processed="1"> More on Tuts+ Jobs... </a></div></div><div id="fsjobs" class="jobs"><h3 class="jobs_header"> Freelance Jobs</h3><div class="jobs_body"><ul class="jobs_list"><li id="fsjobs_id_497" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/24207" sl-processed="1"><span class="title">Wordpress Developer with Good Design Skills</span> <mark>in</mark> Anywhere</a>            </li><li id="fsjobs_id_1697" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/24204" sl-processed="1"><span class="title">Ruby on Rails developer</span> <mark>in</mark> Anywhere, Remote</a>            </li><li id="fsjobs_id_6504" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/24203" sl-processed="1"><span class="title">Code a mobile site and app</span> <mark>in</mark> Anywhere</a>            </li><li id="fsjobs_id_1352" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/24202" sl-processed="1"><span class="title">Why we’re hiring a Front-End Developer</span> <mark>in</mark> Anywhere / Remote or San Francisco, CA / Palo Alto</a>            </li><li id="fsjobs_id_8395" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/24200" sl-processed="1"><span class="title">WordPress Designer/Developer Needed for Occasional Projects</span> <mark>in</mark> Anywhere</a>            </li></ul> <a class="more_jobs" href="http://jobs.freelanceswitch.com/" title="Freelance Job Board" sl-processed="1"> More Freelance Jobs... </a></div></div><div id="social-networking" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="facebook-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#facebook-section" sl-processed="1"><span>&nbsp;</span>Facebook</a></li><li class="twitter-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#twitter-section" sl-processed="1"><span>&nbsp;</span>Twitter</a></li><li class="google-plus-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/#google-plus-section" sl-processed="1"><span>&nbsp;</span>Google+</a></li></ul><div id="facebook-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><fb:like-box href="http://facebook.com/nettutsplus" width="388" height="290" stream="false" class=" fb_iframe_widget" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;height=290&amp;href=http%3A%2F%2Ffacebook.com%2Fnettutsplus&amp;locale=en_US&amp;sdk=joey&amp;stream=false&amp;width=388"><span style="vertical-align: bottom; width: 388px; height: 290px;"><iframe name="f19499a488" width="388px" height="290px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like_box Facebook Social Plugin" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/like_box.htm" style="border: none; visibility: visible; width: 388px; height: 290px;" class=""></iframe></span></fb:like-box></div><div id="twitter-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div><h3>Follow <a href="http://twitter.com/nettuts" sl-processed="1"><span>Nettuts+</span></a> and <span><a href="http://twitter.com/tutsplus" sl-processed="1">Tuts+</a></span> on Twitter</h3><ul><li>The latest Twitter feed isn't piping through at the moment, check back soon!<br><br>Sorry for the inconvenience.</li></ul></div></div><div id="google-plus-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div id="___plus_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 388px; height: 106px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 388px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 106px;" tabindex="0" vspace="0" width="100%" id="I2_1384918603503" name="I2_1384918603503" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/badge.htm" data-gapiattached="true" title="Badge v2"></iframe></div></div></div></div></div></div><div id="footer_wrap"><div id="footer"><p class="footer_text"><strong>Nettuts+</strong> is part of the <a href="http://tutsplus.com/" sl-processed="1">Tuts+ Network</a>, teaching creative skills to millions worldwide.</p><ul><li><a href="http://net.tutsplus.com/advertise/" sl-processed="1">Advertise</a><span>·</span></li><li><a href="http://www.formstack.com/forms/envato-tuts__contact_form" sl-processed="1">Suggestions</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/" sl-processed="1">About Us</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/tuts-terms-user-agreement/" sl-processed="1">Terms and Conditions</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/privacy-policy/" sl-processed="1">Privacy Policy</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/write-for-us/" sl-processed="1">Write for Us</a></li></ul> <a href="http://net.tutsplus.com/" class="footer_logo" sl-processed="1">Nettuts+</a><div class="lower_footer"><p class="footer_copy">Copyright © 2013 Envato</p> <a href="http://envato.com/" class="envato_logo" sl-processed="1">Envato</a></div></div></div>
 <script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/widget.js"></script> <script type="text/javascript">var seriesdropdown = document.getElementById("orgseries_dropdown");
			if (seriesdropdown) { 
			 function onSeriesChange() {
					if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
						location.href = "http://net.tutsplus.com/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
					}
				}
				seriesdropdown.onchange = onSeriesChange;
			}</script> <script type="text/javascript">/*<![CDATA[*/// 
        var disqus_shortname = 'nettuts';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) url = url[0];
                    else url = url[1]
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
                        s.src = 'http' + '://' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    ///*]]>*/</script> <script class="javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/shCore.js"></script> <script class="javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/shBrushAll.js"></script> <script class="javascript">dp.SyntaxHighlighter.ClipboardSwf = 'http://net.tutsplus.com/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');</script><style>.dp-xml .cdata { color: #ff1493; }.dp-xml .tag, .dp-xml .tag-name { color: #069; font-weight: bold; }.dp-xml .attribute { color: red; }.dp-xml .attribute-value { color: blue; }</style><style>.dp-css .colors { color: darkred; }.dp-css .vars { color: #d00; }</style><script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/footer.js"></script>

    <!-- Remarketing tags --> 
    <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1065398951;
    var google_conversion_label = "YJmqCNWStQQQp-WC_AM";
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
    </script>
    <script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/conversion.js"></script><iframe name="google_conversion_frame" title="Google conversion frame" width="300" height="13" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/saved_resource(4).htm" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no">&lt;img height="1" width="1" border="0" alt="" src="http://googleads.g.doubleclick.net/pagead/viewthroughconversion/1065398951/?frame=0&amp;random=1384918604018&amp;cv=7&amp;fst=1384918604018&amp;num=1&amp;fmt=1&amp;label=YJmqCNWStQQQp-WC_AM&amp;guid=ON&amp;u_h=768&amp;u_w=1024&amp;u_ah=728&amp;u_aw=1024&amp;u_cd=32&amp;u_his=4&amp;u_tz=420&amp;u_java=true&amp;u_nplug=8&amp;u_nmime=19&amp;url=http%3A//net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/&amp;frm=0" /&gt;</iframe>
    <noscript>
      &lt;div style="display:inline;"&gt;
        &lt;img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1065398951/?value=0&amp;label=YJmqCNWStQQQp-WC_AM&amp;guid=ON&amp;script=0"/&gt;
      &lt;/div&gt;
    </noscript>
    
<script type="text/javascript" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/1342X589339.skimlinks.js"></script>  

<!-- Dynamic Page Served (once) in 1.230 seconds -->
<iframe name="oauth2relay745126493" id="oauth2relay745126493" src="./Start Using HTML5 WebSockets Today   Nettuts+_files/postmessageRelay.htm" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><iframe id="google_osd_static_frame_2948821235913" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>